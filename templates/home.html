{% extends "base.html" %}
{% load static %}
{% block title %}Home{% endblock %}

{% block content %}
{% if user.is_authenticated %}
<div class="separator"></div>
<div class="top-container">
    <h2>Hi {{ user.username }}!</h2>
  <form action="{% url 'logout' %}" method="post"> <!-- Formulario para cerrar sesión -->
    {% csrf_token %}
    <button class="genericButton" type="submit">Log Out</button>
  </form>
</div>
<!--
<h1>
    Playlists
    {% if user.is_authenticated %} (<a href="url 'web:playlist_create'%}">add</a>){% endif %}
</h1>
<ul>
    {% for playlist in latest_playlist_list %}
        <li><a href="{%url 'web:playlist_detail' playlist.id %}">
            {{playlist.name}} </a></li>
    {%empty%}<li> Sorry, no playlist registred yet. </li>
    {% endfor %}
</ul>
-->
<div class="row">
    <div class="column" style="background-color:#aaa;">
        <form action="{% url 'web:playlist_create' %}" method="get">
            <button class="genericButton large-button" type="submit">Crea una playlist</button>
            <ul>
                {% for playlist in latest_playlist_list %}
                    <li><a href="{%url 'web:playlist_detail' playlist.id %}">
                        {{playlist.name}} </a></li>
                {%empty%}<li> Sorry, no playlist registred yet. </li>
                {% endfor %}
            </ul>
        </form>
    </div>
    <div class="column" style="background-color:#bbb;">
        <input class = search-input type="text" id="searchInput" placeholder="Search for songs, artists, etc.">
        <button class = genericButton onclick="buscarCancion()">Search</button>
         <div id="searchResults"></div>

        {% block scripts %}
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="{% static 'javascript/searchFiveSongs.js' %}"></script>
        {% endblock %}
    </div>
</div>

{% else %}

<div class="container-home">
    <h2>Bienvenido</h2>
    <p>Por favor, inicia sesión o regístrate</p>
    <div class = "container-home-buttons">

        <form action="{% url 'login' %}" method="post"> <!-- We can add a form to log out here -->
            {% csrf_token %}
            <button class="genericButton" type="submit">Log In</button>
        </form>
        <form action="{% url 'signup' %}" method="post"> <!-- We can add a form to log out here -->
            {% csrf_token %}
            <button class="genericButton" type="submit">Sign Up</button>
        </form>
    </div>
</div>
{% endif %}
{% endblock %}
